<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
  <ul id="source">
    <li>北京空气质量：<b>90</b></li>
    <li>上海空气质量：<b>70</b></li>
    <li>天津空气质量：<b>80</b></li>
    <li>广州空气质量：<b>50</b></li>
    <li>深圳空气质量：<b>40</b></li>
    <li>福州空气质量：<b>32</b></li>
    <li>成都空气质量：<b>90</b></li>
  </ul>
  <ul id="resort">
  	
  </ul>
  <button id="btn">排序</button>
  <script>
  var $=function(id){
  	return document.getElementById(id);
  }
  
  function getData(){
  	var t=$("source").getElementsByTagName("li");
  	var data=[],
  	city,
  	num;
  /*	alert(t[1]);*/
  	for(var i=0;i<t.length;i++){
  		city=t[i].innerText.split("空气质量：")[0];
  		num=t[i].getElementsByTagName("b")[0].innerText;
  		data.push([city,num]);
  	}
  	return data;
  }
  
  function sortAqiData(data){
  	data.sort(function(a,b){
  		return a[1]-b[1];
  	});
  	return data;
  }
  
  function render(data){
  	var num = ["一","二","三","四","五","六","七"];
	var content = "";
	data.forEach(function(item,index) {
		content += "<li>第" + num[index] + "名: " + item[0] + ",空气质量:  <b>" + item[1] +"</li></b>";
	});
	$("resort").innerHTML = content;	
  }
  
  function main(){
  	var aqiData=getData();
  		aqiData = sortAqiData(aqiData);
  		render(aqiData);
  }
  
	function init(){
		$("btn").onclick=main;
	}
	init();
	/*console.log("1");*/
  </script>
	</body>
	
</html>
